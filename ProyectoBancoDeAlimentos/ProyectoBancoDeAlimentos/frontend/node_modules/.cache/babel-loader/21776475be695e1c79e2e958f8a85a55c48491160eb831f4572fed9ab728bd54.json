{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Latitude\\\\Documents\\\\Universidad\\\\New folder\\\\BancoAlimentos_UX\\\\ProyectoBancoDeAlimentos\\\\ProyectoBancoDeAlimentos\\\\frontend\\\\src\\\\pages\\\\PruebaDeRoutes.jsx\";\n// src/TestAuth.jsx\nimport LoginUser, { RegistrarUser } from \"../api/Usuario.Route\";\n// Si quieres probar una ruta protegida después de login, descomenta la siguiente línea\n// import api from \"./api/axiosInstance\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TestAuth() {\n  const handleLogin = async () => {\n    const payload = {\n      correo: \"ana@example.com\",\n      // puedes usar 'contrasena' o 'contraseña'; la función ya lo normaliza\n      contrasena: \"123456789\"\n    };\n    console.log(\"[LOGIN] request:\", payload);\n    try {\n      const res = await LoginUser(payload);\n      console.log(\"[LOGIN] status:\", res.status);\n      console.log(\"[LOGIN] data:\", res.data);\n      // Si usas cookie httpOnly, ya quedó guardada (withCredentials: true)\n    } catch (err) {\n      var _err$response, _err$response2, _err$response2$data;\n      console.error(\"[LOGIN] error:\", (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err);\n      alert((err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Error de login\");\n    }\n  };\n  const handleRegister = async () => {\n    const payload = {\n      nombre: \"Nuevo Usuario\",\n      correo: \"nuevo23@example.com\",\n      contraseña: \"123456\",\n      id_rol: 2,\n      // ajusta según tu BD (2 = cliente, por ejemplo)\n      telefono: \"9999-0000\"\n    };\n    console.log(\"[REGISTER] request:\", payload);\n    try {\n      const res = await RegistrarUser(payload);\n      console.log(\"[REGISTER] status:\", res.status);\n      console.log(\"[REGISTER] data:\", res.data);\n    } catch (err) {\n      var _err$response3, _err$response4, _err$response4$data;\n      console.error(\"[REGISTER] error:\", (err === null || err === void 0 ? void 0 : (_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.data) || err);\n      alert((err === null || err === void 0 ? void 0 : (_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || \"Error al registrarse\");\n    }\n  };\n\n  // (Opcional) Probar endpoint protegido después del login\n  // Asegúrate de que exista en tu backend (cámbialo por /api/perfil o /api/auth/me)\n  // const handleWhoAmI = async () => {\n  //   try {\n  //     const res = await api.get(\"/api/auth/me\");\n  //     console.log(\"[ME] status:\", res.status);\n  //     console.log(\"[ME] data:\", res.data);\n  //   } catch (err) {\n  //     console.error(\"[ME] error:\", err?.response?.data || err);\n  //   }\n  // };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 24\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Test Auth\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Abre la consola del navegador para ver los logs.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogin,\n        children: \"Probar Login (valores por defecto)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRegister,\n        children: \"Probar Registro (valores por defecto)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_c = TestAuth;\nvar _c;\n$RefreshReg$(_c, \"TestAuth\");","map":{"version":3,"names":["LoginUser","RegistrarUser","jsxDEV","_jsxDEV","TestAuth","handleLogin","payload","correo","contrasena","console","log","res","status","data","err","_err$response","_err$response2","_err$response2$data","error","response","alert","message","handleRegister","nombre","contraseña","id_rol","telefono","_err$response3","_err$response4","_err$response4$data","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","display","gap","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Latitude/Documents/Universidad/New folder/BancoAlimentos_UX/ProyectoBancoDeAlimentos/ProyectoBancoDeAlimentos/frontend/src/pages/PruebaDeRoutes.jsx"],"sourcesContent":["// src/TestAuth.jsx\r\nimport LoginUser, { RegistrarUser } from \"../api/Usuario.Route\";\r\n// Si quieres probar una ruta protegida después de login, descomenta la siguiente línea\r\n// import api from \"./api/axiosInstance\";\r\n\r\nexport default function TestAuth() {\r\n  const handleLogin = async () => {\r\n    const payload = {\r\n      correo: \"ana@example.com\",\r\n      // puedes usar 'contrasena' o 'contraseña'; la función ya lo normaliza\r\n      contrasena: \"123456789\",\r\n    };\r\n\r\n    console.log(\"[LOGIN] request:\", payload);\r\n    try {\r\n      const res = await LoginUser(payload);\r\n      console.log(\"[LOGIN] status:\", res.status);\r\n      console.log(\"[LOGIN] data:\", res.data);\r\n      // Si usas cookie httpOnly, ya quedó guardada (withCredentials: true)\r\n    } catch (err) {\r\n      console.error(\"[LOGIN] error:\", err?.response?.data || err);\r\n      alert(err?.response?.data?.message || \"Error de login\");\r\n    }\r\n  };\r\n\r\n  const handleRegister = async () => {\r\n    const payload = {\r\n      nombre: \"Nuevo Usuario\",\r\n      correo: \"nuevo23@example.com\",\r\n      contraseña: \"123456\",\r\n      id_rol: 2,           // ajusta según tu BD (2 = cliente, por ejemplo)\r\n      telefono: \"9999-0000\",\r\n    };\r\n\r\n    console.log(\"[REGISTER] request:\", payload);\r\n    try {\r\n      const res = await RegistrarUser(payload);\r\n      console.log(\"[REGISTER] status:\", res.status);\r\n      console.log(\"[REGISTER] data:\", res.data);\r\n    } catch (err) {\r\n      console.error(\"[REGISTER] error:\", err?.response?.data || err);\r\n      alert(err?.response?.data?.message || \"Error al registrarse\");\r\n    }\r\n  };\r\n\r\n  // (Opcional) Probar endpoint protegido después del login\r\n  // Asegúrate de que exista en tu backend (cámbialo por /api/perfil o /api/auth/me)\r\n  // const handleWhoAmI = async () => {\r\n  //   try {\r\n  //     const res = await api.get(\"/api/auth/me\");\r\n  //     console.log(\"[ME] status:\", res.status);\r\n  //     console.log(\"[ME] data:\", res.data);\r\n  //   } catch (err) {\r\n  //     console.error(\"[ME] error:\", err?.response?.data || err);\r\n  //   }\r\n  // };\r\n\r\n  return (\r\n    <div style={{ padding: 24 }}>\r\n      <h2>Test Auth</h2>\r\n      <p>Abre la consola del navegador para ver los logs.</p>\r\n\r\n      <div style={{ display: \"flex\", gap: 12 }}>\r\n        <button onClick={handleLogin}>Probar Login (valores por defecto)</button>\r\n        <button onClick={handleRegister}>Probar Registro (valores por defecto)</button>\r\n        {/* <button onClick={handleWhoAmI}>Probar ruta protegida</button> */}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";AAAA;AACA,OAAOA,SAAS,IAAIC,aAAa,QAAQ,sBAAsB;AAC/D;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEA,eAAe,SAASC,QAAQA,CAAA,EAAG;EACjC,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,MAAMC,OAAO,GAAG;MACdC,MAAM,EAAE,iBAAiB;MACzB;MACAC,UAAU,EAAE;IACd,CAAC;IAEDC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEJ,OAAO,CAAC;IACxC,IAAI;MACF,MAAMK,GAAG,GAAG,MAAMX,SAAS,CAACM,OAAO,CAAC;MACpCG,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEC,GAAG,CAACC,MAAM,CAAC;MAC1CH,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEC,GAAG,CAACE,IAAI,CAAC;MACtC;IACF,CAAC,CAAC,OAAOC,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,cAAA,EAAAC,mBAAA;MACZR,OAAO,CAACS,KAAK,CAAC,gBAAgB,EAAE,CAAAJ,GAAG,aAAHA,GAAG,wBAAAC,aAAA,GAAHD,GAAG,CAAEK,QAAQ,cAAAJ,aAAA,uBAAbA,aAAA,CAAeF,IAAI,KAAIC,GAAG,CAAC;MAC3DM,KAAK,CAAC,CAAAN,GAAG,aAAHA,GAAG,wBAAAE,cAAA,GAAHF,GAAG,CAAEK,QAAQ,cAAAH,cAAA,wBAAAC,mBAAA,GAAbD,cAAA,CAAeH,IAAI,cAAAI,mBAAA,uBAAnBA,mBAAA,CAAqBI,OAAO,KAAI,gBAAgB,CAAC;IACzD;EACF,CAAC;EAED,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,MAAMhB,OAAO,GAAG;MACdiB,MAAM,EAAE,eAAe;MACvBhB,MAAM,EAAE,qBAAqB;MAC7BiB,UAAU,EAAE,QAAQ;MACpBC,MAAM,EAAE,CAAC;MAAY;MACrBC,QAAQ,EAAE;IACZ,CAAC;IAEDjB,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEJ,OAAO,CAAC;IAC3C,IAAI;MACF,MAAMK,GAAG,GAAG,MAAMV,aAAa,CAACK,OAAO,CAAC;MACxCG,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEC,GAAG,CAACC,MAAM,CAAC;MAC7CH,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEC,GAAG,CAACE,IAAI,CAAC;IAC3C,CAAC,CAAC,OAAOC,GAAG,EAAE;MAAA,IAAAa,cAAA,EAAAC,cAAA,EAAAC,mBAAA;MACZpB,OAAO,CAACS,KAAK,CAAC,mBAAmB,EAAE,CAAAJ,GAAG,aAAHA,GAAG,wBAAAa,cAAA,GAAHb,GAAG,CAAEK,QAAQ,cAAAQ,cAAA,uBAAbA,cAAA,CAAed,IAAI,KAAIC,GAAG,CAAC;MAC9DM,KAAK,CAAC,CAAAN,GAAG,aAAHA,GAAG,wBAAAc,cAAA,GAAHd,GAAG,CAAEK,QAAQ,cAAAS,cAAA,wBAAAC,mBAAA,GAAbD,cAAA,CAAef,IAAI,cAAAgB,mBAAA,uBAAnBA,mBAAA,CAAqBR,OAAO,KAAI,sBAAsB,CAAC;IAC/D;EACF,CAAC;;EAED;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,oBACElB,OAAA;IAAK2B,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAG,CAAE;IAAAC,QAAA,gBAC1B7B,OAAA;MAAA6B,QAAA,EAAI;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClBjC,OAAA;MAAA6B,QAAA,EAAG;IAAgD;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eAEvDjC,OAAA;MAAK2B,KAAK,EAAE;QAAEO,OAAO,EAAE,MAAM;QAAEC,GAAG,EAAE;MAAG,CAAE;MAAAN,QAAA,gBACvC7B,OAAA;QAAQoC,OAAO,EAAElC,WAAY;QAAA2B,QAAA,EAAC;MAAkC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACzEjC,OAAA;QAAQoC,OAAO,EAAEjB,cAAe;QAAAU,QAAA,EAAC;MAAqC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAE5E,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACI,EAAA,GAhEuBpC,QAAQ;AAAA,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}